<!DOCTYPE html> 
<html> 
	<head>
      <title>jQuery UI Draggable : Creating a Small Helper using a Function</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.3/themes/hot-sneaks/jquery-ui.css" />
	<script src="http://code.jquery.com/jquery-2.1.3.js"></script>
	<script src="http://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
	<script src="objects.js"></script>
      <style>
        .demoDrag, .demoDrop {font-family:Verdana; border:5px solid #aaa;
            padding:10px; width: 150px; background-color:#44c654}
        .demoDrop {height: 500px; width: 500px;background:#fa5}
        .demoDrop.active {border:5px dashed #444}
        .demoDrop.hover {background-color:yellow;}
		.absolute{position: absolute;}
		.objectbottom{max-height: 50px;min-height:50px;min-width:50px;}
		.object{min-height:50px;min-width:50px;}
      </style>
       <script>
		
		var selected=false;
		var selectType="image";
		var d=1;
         $(document).ready(function() {
		
			$('div.demoDrag').draggable({
                helper: "clone",
				opacity: 0.75,
				cursor: "move",
				containment: $("#dropBox")
            });
			
			
            $('#dropBox').droppable({
                activeClass: "active",
                drop: function( event, ui) {
				if(selected){				
					createobject(selectType,d);
					d++;
					selected= false;
				}
				}
            }); 
			
			
			$(".demoDrag").mousedown(function() {
				selected= true;
				selectType=$(this).attr("id");
			});
			
			$(document.body).on("click", ".object", function (){
			$(this).siblings().toggle();
			});
			
        });
		
		
		
		function createobject(Type,id){
		
					var txt2 = $("<div class=\"demoDrag absolute\" id=\""+Type+"_"+id+"\"><div class=\"object\" style=\"border:1px solid red;\">"+Type+"_"+id+"</div><div class=\"objectbottom \" style=\"border:1px solid blue;\">options</div></div>");
					txt2.children(".object").resizable(
					{ alsoResize: "#"+Type+"_"+id,
					containment: $("#dropBox")
					  })
					$("#dropBox").append(txt2);
					txt2.draggable({
					opacity: 0.75,
					cursor: "move",
					containment: $("#dropBox")
					});
					
			}
			function buttonclick(){
				
				for(var t in $('#dropBox').children()){
					alert(t);
				}
				
			}
      </script> 
     
</head> 
<body>
    <div id="dropBox" class="demoDrop">
        <span>Drop Zone</span>
    </div> 
    <hr />
	<div class="demoDrag" id="video">
        <img src="truck.png"/><label for="truck">video</label>
    </div>
	<div class="demoDrag" id="image">
        <img src="truck.png"/><label for="truck">image</label>
    </div>
	<div class="demoDrag" id="webURL">
        <img src="truck.png"/><label for="truck">webURL</label>
    </div>
	<div class="demoDrag" id="phone">
        <img src="truck.png"/><label for="truck">phone</label>
    </div>
	<div class="demoDrag" id="googleMap">
        <img src="truck.png"/><label for="truck">googleMap</label>
    </div>
	<div class="demoDrag" id="audio">
        <img src="truck.png"/><label for="truck">audio</label>
    </div>
	<div class="demoDrag" id="imageSlide">
        <img src="truck.png"/><label for="truck">imageSlide</label>
    </div>
	<div class="demoDrag" id="Cimage">
        <img src="truck.png"/><label for="truck">Cimage</label>
    </div>
	<div class="demoDrag" id="Cvideo">
        <img src="truck.png"/><label for="truck">Cvideo</label>
    </div>
	<div class="demoDrag" id="threeD">
        <img src="truck.png"/><label for="truck">threeD</label>
    </div>
	<button class="button" onclick="buttonclick()">bak</button
</body>
</html>